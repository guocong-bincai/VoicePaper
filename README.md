# 📖 VoicePaper - 音频同步阅读器

一个现代化的音频同步文本阅读器,支持音频播放时自动高亮对应的文本内容。

## ✨ 功能特性

- 🎵 **音频播放控制**
  - 播放/暂停
  - 前进/后退 10秒
  - 进度条拖动
  - 时间显示

- 📝 **Markdown文本展示**
  - 支持Markdown格式渲染
  - 美观的排版样式
  - 响应式设计

- 🎯 **音频文本同步**
  - 根据音频时间自动高亮对应文本
  - 平滑滚动到当前位置
  - 精确的时间轴匹配

- ⌨️ **键盘快捷键**
  - `空格键`: 播放/暂停
  - `←`: 后退10秒
  - `→`: 前进10秒

## 🚀 快速开始

### 1. 准备文件

确保以下文件在同一目录下:

```
VoicePaper/
├── index.html          # 主页面
├── style.css           # 样式文件
├── app.js              # 核心逻辑
├── output.mp3          # 音频文件
├── 1.md                # Markdown文本
└── 1925118537643336511_202511251800_337964855271998_337969297908224/
    └── content-...titles  # 时间轴数据
```

### 2. 启动项目

由于浏览器的安全限制,需要使用本地服务器运行:

**方法1: 使用Python(推荐)**
```bash
# Python 3
python3 -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000
```

**方法2: 使用Node.js**
```bash
npx http-server -p 8000
```

**方法3: 使用VS Code**
- 安装 "Live Server" 插件
- 右键 `index.html` -> "Open with Live Server"

### 3. 访问应用

打开浏览器访问: `http://localhost:8000`

## 📁 文件说明

### 核心文件

- **index.html**: 页面结构
- **style.css**: UI样式和动画效果
- **app.js**: 音频控制和文本同步逻辑

### 数据文件

- **output.mp3**: 音频文件
- **1.md**: Markdown格式的文本内容
- **.titles文件**: JSON格式的时间轴数据

### 时间轴数据格式

```json
[
  {
    "text": "文本内容",
    "time_begin": 0,        // 开始时间(毫秒)
    "time_end": 10081,      // 结束时间(毫秒)
    "text_begin": 0,        // 文本起始位置
    "text_end": 51          // 文本结束位置
  }
]
```

## 🎨 界面预览

- **顶部**: 渐变色标题栏
- **中间**: 音频播放器控制面板
- **底部**: 文本内容展示区(带滚动和高亮)

## 🔧 技术栈

- **原生JavaScript**: 核心逻辑
- **marked.js**: Markdown渲染
- **HTML5 Audio API**: 音频控制
- **CSS3**: 现代化UI设计

## 🌟 特色功能

### 1. 智能文本高亮

系统会根据音频播放进度,自动在文本中高亮当前正在朗读的内容,并平滑滚动到可视区域。

### 2. 精确时间同步

通过 `.titles` 时间轴文件,实现毫秒级的音频与文本同步。

### 3. 美观的UI设计

- 渐变色主题
- 圆角卡片设计
- 平滑动画效果
- 响应式布局

## 📱 浏览器支持

- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ 移动端浏览器

## 🐛 常见问题

### 1. 页面打不开或文件加载失败

**原因**: 浏览器的CORS安全策略限制

**解决**: 必须使用本地服务器运行,不能直接双击打开HTML文件

### 2. 音频无法播放

**检查**:
- 音频文件路径是否正确
- 音频格式是否支持(MP3/WAV/OGG)
- 浏览器是否支持该音频格式

### 3. 文本不高亮

**检查**:
- `.titles` 时间轴文件是否存在
- 时间轴数据格式是否正确
- 打开浏览器控制台查看错误信息

## 🛠️ 自定义配置

### 修改音频文件

在 `index.html` 中修改:
```html
<audio id="audioPlayer" src="你的音频.mp3"></audio>
```

### 修改Markdown文件

在 `app.js` 的 `loadMarkdownContent()` 方法中修改:
```javascript
const response = await fetch('你的文件.md');
```

### 修改时间轴文件

在 `app.js` 的 `loadTimelineData()` 方法中修改文件路径。

## 📝 开发日志

- 2025-11-25: 初始版本发布
  - ✅ 音频播放器功能
  - ✅ Markdown文本渲染
  - ✅ 音频文本同步高亮
  - ✅ 键盘快捷键支持

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request!

---

**享受音频同步阅读的乐趣! 📖🎵**

